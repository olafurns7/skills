#!/usr/bin/env bash
set -euo pipefail

SCRIPT_DIR="$(cd -- "$(dirname -- "${BASH_SOURCE[0]}")" && pwd)"
if command -v node >/dev/null 2>&1; then
  exec node "$SCRIPT_DIR/taskctl.mjs" "$@"
fi

if command -v bun >/dev/null 2>&1; then
  exec bun "$SCRIPT_DIR/taskctl.mjs" "$@"
fi

echo "taskctl: Node.js or Bun is required to run taskctl.mjs." >&2
exit 1
